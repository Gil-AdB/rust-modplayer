"use strict";(self.webpackChunkmodplayer_wasm_app=self.webpackChunkmodplayer_wasm_app||[]).push([[928],{183:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(314),r=t.n(o)()((function(n){return n[1]}));r.push([n.id,'/*!\n * Bootstrap v4.5.3 (https://getbootstrap.com/)\n * Copyright 2011-2020 The Bootstrap Authors\n * Copyright 2011-2020 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */\n\n:root {\n  --blue: #007bff;\n  --indigo: #6610f2;\n  --purple: #6f42c1;\n  --pink: #e83e8c;\n  --red: #dc3545;\n  --orange: #fd7e14;\n  --yellow: #ffc107;\n  --green: #28a745;\n  --teal: #20c997;\n  --cyan: #17a2b8;\n  --white: #fff;\n  --gray: #6c757d;\n  --gray-dark: #343a40;\n  --primary: #007bff;\n  --secondary: #6c757d;\n  --success: #28a745;\n  --info: #17a2b8;\n  --warning: #ffc107;\n  --danger: #dc3545;\n  --light: #f8f9fa;\n  --dark: #343a40;\n  --breakpoint-xs: 0;\n  --breakpoint-sm: 576px;\n  --breakpoint-md: 768px;\n  --breakpoint-lg: 992px;\n  --breakpoint-xl: 1200px;\n  --font-family-sans-serif: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";\n  --font-family-monospace: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;\n}\n\n*,::after,::before {\n  box-sizing: border-box;\n}\n\nhtml {\n  font-family: sans-serif;\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -webkit-tap-highlight-color: transparent;\n}\n\nbody {\n  margin: 0;\n  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  text-align: left;\n  background-color: #fff;\n}\n\n[tabindex="-1"]:focus:not(:focus-visible) {\n  outline: 0!important;\n}\n\nh1,h2,h3,h4,h5,h6 {\n  margin-top: 0;\n  margin-bottom: .5rem;\n}\n\na {\n  color: #007bff;\n  text-decoration: none;\n  background-color: transparent;\n}\n\na:hover {\n  color: #0056b3;\n  text-decoration: underline;\n}\n\na:not([href]):not([class]) {\n  color: inherit;\n  text-decoration: none;\n}\n\na:not([href]):not([class]):hover {\n  color: inherit;\n  text-decoration: none;\n}\n\nlabel {\n  display: inline-block;\n  margin-bottom: .5rem;\n}\n\nbutton {\n  border-radius: 0;\n}\n\nbutton:focus {\n  outline: 1px dotted;\n  outline: 5px auto -webkit-focus-ring-color;\n}\n\nbutton,input {\n  margin: 0;\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\n\nbutton,input {\n  overflow: visible;\n}\n\nbutton {\n  text-transform: none;\n}\n\n[role=button] {\n  cursor: pointer;\n}\n\n[type=button],[type=reset],[type=submit],button {\n  -webkit-appearance: button;\n}\n\n[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled) {\n  cursor: pointer;\n}\n\n[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner {\n  padding: 0;\n  border-style: none;\n}\n\ninput[type=checkbox],input[type=radio] {\n  box-sizing: border-box;\n  padding: 0;\n}\n\n[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n[type=search] {\n  outline-offset: -2px;\n  -webkit-appearance: none;\n}\n\n[type=search]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n::-webkit-file-upload-button {\n  font: inherit;\n  -webkit-appearance: button;\n}\n\n[hidden] {\n  display: none!important;\n}\n\n.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6 {\n  margin-bottom: .5rem;\n  font-weight: 500;\n  line-height: 1.2;\n}\n\n.h1,h1 {\n  font-size: 2.5rem;\n}\n\n.h2,h2 {\n  font-size: 2rem;\n}\n\n.h3,h3 {\n  font-size: 1.75rem;\n}\n\n.h4,h4 {\n  font-size: 1.5rem;\n}\n\n.h5,h5 {\n  font-size: 1.25rem;\n}\n\n.h6,h6 {\n  font-size: 1rem;\n}\n\n.display-1 {\n  font-size: 6rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\n\n.display-2 {\n  font-size: 5.5rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\n\n.display-3 {\n  font-size: 4.5rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\n\n.display-4 {\n  font-size: 3.5rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\n\n@-webkit-keyframes progress-bar-stripes {\n  from {\n    background-position: 1rem 0;\n  }\n\n  to {\n    background-position: 0 0;\n  }\n}\n\n@keyframes progress-bar-stripes {\n  from {\n    background-position: 1rem 0;\n  }\n\n  to {\n    background-position: 0 0;\n  }\n}\n\n@-webkit-keyframes spinner-border {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes spinner-border {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes spinner-grow {\n  0% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n\n  50% {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n\n@keyframes spinner-grow {\n  0% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n\n  50% {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n\n@supports ((position:-webkit-sticky) or (position:sticky)) {\n  .sticky-top {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 1020;\n  }\n}\n\n.h-25 {\n  height: 25%!important;\n}\n\n.h-50 {\n  height: 50%!important;\n}\n\n.h-75 {\n  height: 75%!important;\n}\n\n.h-100 {\n  height: 100%!important;\n}\n\n.text-body {\n  color: #212529!important;\n}\n\n@media print {\n  *,  ::after,  ::before {\n    text-shadow: none!important;\n    box-shadow: none!important;\n  }\n\n  h2,  h3 {\n    orphans: 3;\n    widows: 3;\n  }\n\n  h2,  h3 {\n    page-break-after: avoid;\n  }\n\n@page {\n    size: a3;\n}\n\n  body {\n    min-width: 992px!important;\n  }\n}',""]);const i=r},463:(n,e,t)=>{var o=t.w[n.id];for(var r in t.r(e),o)r&&(e[r]=o[r]);t(844),t(761),o[""]()},761:(n,e,t)=>{function o(){return performance.now()}t.d(e,{G:()=>o})},772:(n,e,t)=>{t.r(e),t.d(e,{default:()=>o});const o=t.p+"images/96984c59d39d5467d6bf9fbd498fdfa8.png"},844:(n,e,t)=>{let o;function r(n){o=n}t.d(e,{Jn:()=>y,RK:()=>w,Ry:()=>k,lI:()=>r,Uq:()=>v,zC:()=>x,U6:()=>R,bL:()=>S,Gu:()=>z,qN:()=>C,Qn:()=>I});let i=new("undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let s=null;function a(){return null!==s&&0!==s.byteLength||(s=new Uint8Array(o.memory.buffer)),s}function l(n,e){return n>>>=0,i.decode(a().subarray(n,n+e))}let c=0,f=new("undefined"==typeof TextEncoder?(0,module.require)("util").TextEncoder:TextEncoder)("utf-8");const u="function"==typeof f.encodeInto?function(n,e){return f.encodeInto(n,e)}:function(n,e){const t=f.encode(n);return e.set(t),{read:n.length,written:t.length}};let g=null;function p(){return(null===g||!0===g.buffer.detached||void 0===g.buffer.detached&&g.buffer!==o.memory.buffer)&&(g=new DataView(o.memory.buffer)),g}let b=null;function d(n,e){const t=e(4*n.length,4)>>>0;return(null!==b&&0!==b.byteLength||(b=new Float32Array(o.memory.buffer)),b).set(n,t/4),c=n.length,t}const h="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((n=>o.__wbg_rgb_free(n>>>0,1)));class _{static __wrap(n){n>>>=0;const e=Object.create(_.prototype);return e.__wbg_ptr=n,h.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const n=this.__wbg_ptr;return this.__wbg_ptr=0,h.unregister(this),n}free(){const n=this.__destroy_into_raw();o.__wbg_rgb_free(n,0)}get r(){return o.__wbg_get_rgb_r(this.__wbg_ptr)}set r(n){o.__wbg_set_rgb_r(this.__wbg_ptr,n)}get g(){return o.__wbg_get_rgb_g(this.__wbg_ptr)}set g(n){o.__wbg_set_rgb_g(this.__wbg_ptr,n)}get b(){return o.__wbg_get_rgb_b(this.__wbg_ptr)}set b(n){o.__wbg_set_rgb_b(this.__wbg_ptr,n)}}const m="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((n=>o.__wbg_songjs_free(n>>>0,1)));class y{static __wrap(n){n>>>=0;const e=Object.create(y.prototype);return e.__wbg_ptr=n,m.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const n=this.__wbg_ptr;return this.__wbg_ptr=0,m.unregister(this),n}free(){const n=this.__destroy_into_raw();o.__wbg_songjs_free(n,0)}static new(n,e){const t=function(n,e){const t=e(1*n.length,1)>>>0;return a().set(n,t/1),c=n.length,t}(e,o.__wbindgen_malloc),r=c,i=o.songjs_new(n,t,r);return y.__wrap(i)}display(){o.songjs_display(this.__wbg_ptr)}get_next_tick(n,e,t){var r=d(n,o.__wbindgen_malloc),i=c,s=d(e,o.__wbindgen_malloc),a=c;return 0!==o.songjs_get_next_tick(this.__wbg_ptr,r,i,n,s,a,e,t)}handle_input(n){return 0!==o.songjs_handle_input(this.__wbg_ptr,n)}}function w(n,e){return n[e>>>0]}function k(n){return n.length}function v(n,e){let t,r;try{t=n,r=e,i=l(n,e),top.term_writeln(i)}finally{o.__wbindgen_free(t,r,1)}var i}function x(n,e,t){let r,i;try{r=n,i=e,s=l(n,e),a=_.__wrap(t),top.term_writeln_with_background(s,a)}finally{o.__wbindgen_free(r,i,1)}var s,a}function R(n,e,t){var o,r;new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set((o=n,r=e,o>>>=0,a().subarray(o/1,o/1+r)))}function S(){const n=o.__wbindgen_export_1,e=n.grow(4);n.set(0,void 0),n.set(e+0,void 0),n.set(e+1,null),n.set(e+2,!0),n.set(e+3,!1)}function z(n){return"string"==typeof n}function C(n,e){const t="string"==typeof e?e:void 0;var r=null==t?0:function(n,e,t){if(void 0===t){const t=f.encode(n),o=e(t.length,1)>>>0;return a().subarray(o,o+t.length).set(t),c=t.length,o}let o=n.length,r=e(o,1)>>>0;const i=a();let s=0;for(;s<o;s++){const e=n.charCodeAt(s);if(e>127)break;i[r+s]=e}if(s!==o){0!==s&&(n=n.slice(s)),r=t(r,o,o=s+3*n.length,1)>>>0;const e=a().subarray(r+s,r+o);s+=u(n,e).written,r=t(r,o,s,1)>>>0}return c=s,r}(t,o.__wbindgen_malloc,o.__wbindgen_realloc),i=c;p().setInt32(n+4,i,!0),p().setInt32(n+0,r,!0)}function I(n,e){throw new Error(l(n,e))}},928:(n,e,t)=>{var o=t(72),r=t.n(o),i=t(183);r()(i.A,{insert:"head",singleton:!1}),i.A.locals;var s=t(652),a=t(463),l=t(844);(0,l.lI)(a),a.__wbindgen_start();let c=t(772);class f extends s.Terminal{constructor(n,e,t,o){super(n,e,t,o)}handleResize(){}}const u=new f(document.querySelector("#terminal"),200,50,{font:new s.Font(c.default,8,16)});function g(n,e,t){let o=[s.fromRgb(0,120,0),s.fromRgb(0,140,0),s.fromRgb(0,160,0),s.fromRgb(0,180,0),s.fromRgb(180,180,0),s.fromRgb(195,195,0),s.fromRgb(210,210,0),s.fromRgb(225,225,0),s.fromRgb(225,64,0),s.fromRgb(225,64,0),s.fromRgb(225,64,0),s.fromRgb(225,64,0)];for(let r=0;r<12;r++)t.getCell(n+r,e).setForeground(o[r])}function p(){u.fillRect(0,0,200,50,0,s.Colors.LIGHT_GRAY,s.Colors.BLACK);for(let n=3;n<=35;n++)g(57,n,u),g(102,n,u),g(115,n,u),g(128,n,u),g(141,n,u)}p(),document.querySelector("#play").addEventListener("click",(function(){d(),b.IsPlaying()?b.Pause():b.Play()})),document.querySelector("#prev").addEventListener("click",(function(){d(),b.Stop(),void 0!==m&&y>=1&&(y--,w())})),document.querySelector("#next").addEventListener("click",(function(){d(),_()})),document.querySelector("#file").addEventListener("change",(function(){d(),function(n){let e;e=n.target&&n.target.files?n.target.files:n.files,0!==e.length&&k(e)}(document.querySelector("#file"))})),document.querySelector("#terminal").addEventListener("drop",(function(n){var e;d(),e=n,console.log("File(s) dropped"),e.preventDefault(),k(e.dataTransfer)})),document.querySelector("#terminal").addEventListener("dragover",(function(n){var e;e=n,console.log("File(s) in drop zone"),e.preventDefault()}));let b=null;function d(){b||(b=function(){const n=new(window.AudioContext||window.webkitAudioContext),e=n.createScriptProcessor(4096,0,2),t=new h(n.sampleRate,(function(n){n.IsPlaying()?document.querySelector("#play").value="⏸":document.querySelector("#play").value="▶️"}),(function(){_()||(document.querySelector("#play").value="▶️")}));return e.onaudioprocess=t.process.bind(t),e.connect(n.destination),t}())}class h{constructor(n,e,t){this.sampleRate=n,this.playing=!1,e&&(this.state_change_cb=e),t&&(this.finished_cb=t)}process(n){let e=n.outputBuffer.sampleRate,t=n.outputBuffer.getChannelData(0),o=n.outputBuffer.getChannelData(1);return this.playing?(this&&this.song&&(this.song.get_next_tick(t,o,e)||(this.playing=!1,this.finished_cb())),!0):(t.fill(0),o.fill(0),!0)}Stop(){if(this.Pause(),this&&this.song){let n=this.song;this.song=null,n.free()}}Pause(){this.playing=!1,this.state_change_cb(this)}Play(){this.playing=!0,this.state_change_cb(this)}Start(n){this.Stop(),u.clear(),p(),this.song=l.Jn.new(this.sampleRate,n)}IsPlaying(){return this.playing}Display(){this&&this.song&&this.song.display()}HandleKeyboardEvents(n){!0===this.song.handle_input(n)&&this.Stop()}}function _(){return b.Stop(),void 0!==m&&y<m.length-1&&(y++,w(),!0)}var m,y;function w(){if(m&&y<m.length){var n=m[y];if(!n)return;console.log("... file["+y+"].name = "+n.name),function(n){fetch(n.url).then((function(e){e.arrayBuffer().then((function(e){var t=new Uint8Array(e);document.getElementById("filename").innerText=n.name,b.Start(t),b.Play()}))}))}(n)}}function k(n){if(m=[],n.items){for(var e=0;e<n.items.length;++e)if("file"===n.items[e].kind){var t=n.items[e].getAsFile();console.log("... file["+e+"].name = "+t.name),m.push({name:t.name,url:window.URL.createObjectURL(t)})}}else{let o;for(o=n.files?n.files:n,e=0;e<o.length;++e)(t=o[e])&&(console.log("... file["+e+"].name = "+t.name),m.push({name:t.name,url:window.URL.createObjectURL(t)}))}y=0,w()}let v=0;top.term_writeln=function(n){u.drawString(0,v,n),v+=1},top.term_writeln_with_background=function(n,e){u.fillRect(0,v,200,1,0,s.Colors.LIGHT_GRAY,s.fromRgb(e.r,e.g,e.b)),u.drawString(0,v,n),v+=1};let x=[];window.onkeyup=function(n){x.push(n.key)};let R=0;const S=1e3/60;!function n(e){window.requestAnimationFrame(n),0!==x.length&&(b&&b.HandleKeyboardEvents(x),x=[]),e-R<S||(R=e,v=0,b&&b.IsPlaying()&&b.Display())}()}}]);